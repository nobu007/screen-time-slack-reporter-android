pr_id: "PR-009"
status: "applied"
applied_at: "2026-01-31T08:10:00Z"

changes:
  - file: "app/src/test/java/jp/co/screentime/slackreporter/presentation/home/HomeViewModelTest.kt"
    action: "created"
    lines_added: 175
    lines_removed: 0
    description: "HomeViewModelのユニットテスト追加（7テストケース）"
    
  - file: "app/src/test/java/jp/co/screentime/slackreporter/presentation/settings/SettingsViewModelTest.kt"
    action: "created"
    lines_added: 200
    lines_removed: 0
    description: "SettingsViewModelのユニットテスト追加（10テストケース）"

test_cases:
  HomeViewModelTest:
    - "Usage Access権限がない場合はhasUsageAccess=falseになる"
    - "Usage Access権限がある場合はデータをロードする"
    - "手動送信が成功する"
    - "手動送信が失敗する"
    - "除外アプリがフィルタリングされる"
    - "onUsageAccessGrantedでデータがリロードされる"
  SettingsViewModelTest:
    - "初期化時に設定がロードされる"
    - "Webhook URL変更が反映される"
    - "送信有効フラグの切り替えが反映される"
    - "送信時刻の変更が反映される"
    - "有効な設定で保存が成功する"
    - "送信無効時はWorkerがキャンセルされる"
    - "テスト送信が成功する"
    - "テスト送信が失敗する"
    - "未保存の変更があるかどうかを判定できる"
    - "テスト結果をクリアできる"
    - "保存済みフラグをクリアできる"

estimated_coverage_impact: "+10-15%"

rollback_command: |
  rm -rf app/src/test/java/jp/co/screentime/slackreporter/presentation/
